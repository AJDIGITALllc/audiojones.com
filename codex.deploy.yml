version: 1
name: audiojones-website-deploy
description: Build and deploy Audio Jones website
tasks:
  deploy:
    description: Build app and functions; optionally deploy
    steps:
      - name: Install dependencies (app)
        run: npm ci
      - name: Build Next.js app
        run: npm run build
      - name: Install dependencies (functions)
        run: npm --prefix functions ci
      - name: Build Firebase Functions
        run: npm --prefix functions run build
      # Optional: Vercel deploy (uncomment to use Vercel CLI)
      # - name: Vercel deploy (prod)
      #   run: vercel --prod --confirm
      # Optional: Firebase deploy (requires auth and creds)
      # - name: Firebase deploy
      #   run: firebase deploy --only functions,firestore,storage

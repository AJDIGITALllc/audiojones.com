### Test Whop webhook endpoint

# Health check
GET http://localhost:3000/api/whop

###

# Test webhook with podcast production tier 1
POST http://localhost:3000/api/whop
Content-Type: application/json

{
  "user": { 
    "email": "test@client.com",
    "id": "whop_user_123",
    "name": "Test Client" 
  },
  "product_id": "whop_pod_t1",
  "billing_sku": "whop_pod_t1",
  "subscription_id": "sub_123",
  "event_type": "subscription_created"
}

###

# Test webhook with personal brand tier 2
POST http://localhost:3000/api/whop
Content-Type: application/json

{
  "customer_email": "founder@startup.com",
  "customer_id": "whop_user_456",
  "customer_name": "Startup Founder",
  "billing_sku": "whop_pb_t2",
  "whop_subscription_id": "sub_456",
  "type": "subscription_activated"
}

###

# Test webhook with AI automation tier 1
POST http://localhost:3000/api/whop
Content-Type: application/json

{
  "email": "tech@company.com",
  "user_id": "whop_user_789",
  "name": "Tech Company",
  "sku": "whop_ai_t1",
  "subscription_id": "sub_789",
  "event_type": "subscription_renewed"
}

###

# Test webhook with unknown SKU (should return 404)
POST http://localhost:3000/api/whop
Content-Type: application/json

{
  "user": { "email": "test@unknown.com" },
  "billing_sku": "unknown_sku_123"
}